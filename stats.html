<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elytopia ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div aria-hidden="true" class="brand-logo"></div>
        <h1>Elytopia</h1>
      </div>
      <nav>
        <a href="index.html" class="btn ghost">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="market.html" class="btn ghost">–ú–∞–≥–∞–∑–∏–Ω</a>
        <a href="blooks.html" class="btn ghost">–ë–ª—É–∫–∏</a>
        <a href="history.html" class="btn ghost">–ò—Å—Ç–æ—Ä–∏—è</a>
        <a href="settings.html" class="btn ghost">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
      </nav>
    </header>

    <main class="grid">
      <!-- Overall Stats -->
      <section class="card" style="grid-column: span 12;">
        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞</h2>
        <p class="muted">–í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ Elytopia.</p>
        <div class="row" style="flex-wrap:wrap; gap:20px;">
          <div class="pill">–û—Ç–∫—Ä—ã—Ç–æ –ø–∞–∫–æ–≤: <span id="packs-opened">0</span></div>
          <div class="pill">–ü–æ–ª—É—á–µ–Ω–æ –±–ª—É–∫–æ–≤: <span id="blooks-earned">0</span></div>
          <div class="pill">–†–µ–¥–∫–æ—Å—Ç—å: <span id="highest-rarity">‚Äî</span></div>
        </div>
      </section>

      <!-- Class Pass -->
      <section class="card" style="grid-column: span 12;">
        <h2>üéì Class Pass</h2>
        <p class="muted">–°–æ–±–∏—Ä–∞–π—Ç–µ –æ—á–∫–∏, —á—Ç–æ–±—ã –ø–æ–≤—ã—à–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å Class Pass. –í—Å–µ–≥–æ —É—Ä–æ–≤–Ω–µ–π: <strong>1000</strong>. –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É!</p>
        <div class="row" style="align-items:center; gap:20px;">
          <div style="flex:1;">
            <div style="background:#1a1b31; border-radius:12px; padding:10px;">
              <strong>–£—Ä–æ–≤–µ–Ω—å:</strong> <span id="pass-level">1</span><br/>
              <strong>–û—á–∫–∏:</strong> <span id="pass-points">0</span> / <span id="pass-next">100</span><br/>
              <strong>–ù–∞–≥—Ä–∞–¥–∞:</strong> <span id="pass-reward">‚Äî</span>
            </div>
          </div>
          <div style="flex:2;">
            <div style="background:#2a2c4f; border-radius:12px; height:20px; position:relative;">
              <div id="pass-bar" style="background:#25c2a0; height:100%; width:0%; border-radius:12px;"></div>
            </div>
          </div>
        </div>
        <div class="row" style="margin-top:12px;">
          <button class="btn success" id="add-points">–î–æ–±–∞–≤–∏—Ç—å –æ—á–∫–∏</button>
          <button class="btn warning" id="reset-pass">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </section>
    </main>

    <footer>
      <div>¬© Elytopia ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
    </footer>
  </div>

  <script>
    // --- Stats demo values ---
    let packsOpened = Number(localStorage.getItem("ely_packs") || 0);
    let blooksEarned = Number(localStorage.getItem("ely_blooks") || 0);
    let highestRarity = localStorage.getItem("ely_highest") || "‚Äî";

    document.getElementById("packs-opened").textContent = packsOpened;
    document.getElementById("blooks-earned").textContent = blooksEarned;
    document.getElementById("highest-rarity").textContent = highestRarity;

    // --- Rewards list (example: 1‚Äì20, but you can expand to 1000) ---
    const rewards = [];
    for (let i = 1; i <= 1000; i++) {
      rewards.push("–ù–∞–≥—Ä–∞–¥–∞ #" + i); // customize names here
    }

    // --- Class Pass ---
    let passLevel = Number(localStorage.getItem("ely_pass_level") || 1);
    let passPoints = Number(localStorage.getItem("ely_pass_points") || 0);

    function requirementForLevel(level) {
      // Example scaling: base 100, +20 per level
      return 100 + (level - 1) * 20;
    }

    function renderPass() {
      const passNext = requirementForLevel(passLevel);
      document.getElementById("pass-level").textContent = passLevel;
      document.getElementById("pass-points").textContent = passPoints;
      document.getElementById("pass-next").textContent = passNext;
      document.getElementById("pass-reward").textContent = rewards[passLevel - 1] || "‚Äî";
      const pct = Math.min(100, (passPoints / passNext) * 100);
      document.getElementById("pass-bar").style.width = pct + "%";
    }

    renderPass();

    document.getElementById("add-points").onclick = () => {
      if (passLevel >= 1000) {
        alert("–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è Class Pass!");
        return;
      }
      passPoints += 10;
      const passNext = requirementForLevel(passLevel);
      if (passPoints >= passNext) {
        passPoints = 0;
        passLevel += 1;
        alert("–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è " + passLevel + " –∏ –ø–æ–ª—É—á–∏–ª–∏: " + rewards[passLevel - 1]);
      }
      localStorage.setItem("ely_pass_level", passLevel);
      localStorage.setItem("ely_pass_points", passPoints);
      renderPass();
    };

    document.getElementById("reset-pass").onclick = () => {
      passLevel = 1;
      passPoints = 0;
      localStorage.setItem("ely_pass_level", passLevel);
      localStorage.setItem("ely_pass_points", passPoints);
      renderPass();
    };
  </script>
</body>
</html>
